[TOC]



## 入住API文档（succ中的返回内容最好在json解析展开更容易查看）



### hotels_info

Url: http://129.211.14.92:8000/visit/hotels_info

Desc: 返回所有酒店数据，让用户选择入住的酒店

param：无

succ：

{ "code":200, "results":[ { "model":"visit.hotels", "pk":3, "fields":{ "add_time":"2020-02-17T16:55:46Z", "update_time":"2020-02-17T16:55:50Z", "name":"杭州西子湖四季酒店", "content":"杭州西子湖四季酒店隐匿于西湖西北角——灵隐路，依湖建邸，望山建园。居于此，徒步，即可赏“曲院风荷”，观“岳墓栖霞”，探“北街梦寻”。延续南宋定都后西湖皇家园林艺术的演绎风格，杭州西子湖四季酒店所筑亭台楼阁，并多曲线与斜线，使之与山水的灵动线条相称，共秀并灵。客房以江南丝缎绣品为墙饰，借中国传统花鸟画的立意灵感，构筑低调奢华之居。酒店金沙厅以创意江南菜著称。西湖餐厅提供欧陆风味菜肴，与大堂酒廊相通，于庭院深 处，为宾客带来悠享时光。酒店还为小客人特设儿童活动中心及户外游乐场，更有夺宝奇兵儿童活动项目，为小朋友开启趣味旅程。", "location":"浙江省杭州市西湖区灵隐路5号", "imgs":{ "Upright":[ "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/6_2.png", "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/7_2.png", "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/8_2.png", "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/9_2.png", "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/10_2.png" ], "horizontal":[ "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/6_1.png", "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/7_1.png", "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/8_1.png", "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/9_1.png", "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/10_1.png" ] }, "lat":"30.257689", "lon":"120.134863", "province":"浙江省", "city":"杭州市", "district":"西湖区" } }, { "model":"visit.hotels", "pk":4, "fields":{ "add_time":"2020-02-17T17:31:32Z", "update_time":"2020-02-17T17:31:36Z", "name":"杭州鱼儿的家2019度假别墅", "content":"“既能感受大自然的美丽淳朴，也像家一样舒适温暖，有灵魂亦有温度是【鱼儿的家】坚持到底的匠心理念” 我们主打天然、质朴、归真、醇厚的匠心理念，是位于杭州5A级景区千岛湖畔的精品设计型民宿。 地处青山绿水，人杰地灵的兰川村。全湖景的房型的绝佳位置条件，推窗即是山水环绕。淳朴的原始乡村建筑经过设计师重新加固改造，在保留原始乡村风格的建筑基础上，增添厚实的质感。 为了给您足够舒适特别的行程体验，我们房间设施均采用智能家居及五 星级酒店标准的床品，结合的私人管家式配套服务，使得在感受乡村淳朴归真天然的环境同时，也不失现代的方便智能。 我们致力于做一家有灵魂亦有温度的民宿，是【鱼儿的家】坚持匠心精神的经营理念。", "location":"浙江省杭州市淳安县宋村乡云港口兰川村鱼儿的家民宿", "imgs":{ "Upright":[ "[https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/100%E5%89%AF%E6%9C%AC.png](https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/100副本.png)", "[https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/101%E5%89%AF%E6%9C%AC.png](https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/101副本.png)", "[https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/102%E5%89%AF%E6%9C%AC.png](https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/102副本.png)" ], "horizontal":[ "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/100.png", "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/101.png", "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/102.png" ] }, "lat":"29.689607", "lon":"118.86885", "province":"浙江省", "city":"杭州市", "district":"淳安县" } }, { "model":"visit.hotels", "pk":5, "fields":{ "add_time":"2020-02-17T17:59:10Z", "update_time":"2020-02-17T17:59:13Z", "name":"杭州木守西溪酒店", "content":"杭州木守西溪位于西溪湿地公园，龙舌嘴入口内。由GOA大象设计、张唐景观联袂出品。在创造初期，主设计师特地去往国内外探访极富设计感的酒店。以“让每一位来酒店的人都能感受从前那种慢慢的，没有太多压力，简单又美好的生活方式”的初心，秉承“东方美学”所主张的让人与自然和谐相处的理念，巧妙的将整个酒店的设计与自然景观融合在一起， 演绎全新的旅游度假产品。 酒店建筑面积占地约7000多平米，拥有43间豪华套房；1个主打浙江菜系 的“溪隐”中餐厅；1个全明宴会厅“林宴厅”330平米相连户外，融于西溪湿地满足各类创意活动及商务会议需求；200平米独立下午茶区域，晚间专门为住店客人提供酒吧服务；心形草坪、无边泳池等为宾客带来与众不同的身心放松与享受。 酒店的运营团队秉承让客户“身心所致、皆有惊喜”的服务宗旨带您走进木守西溪，远离烦嚣，独享属于您的慢生活之旅。", "location":"浙江省杭州市五常街道寿堤33号", "imgs":{ "Upright":[ "[https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/1%E5%89%AF%E6%9C%AC.png](https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/1副本.png)", "[https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/2%E5%89%AF%E6%9C%AC.png](https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/2副本.png)", "[https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/3%E5%89%AF%E6%9C%AC.png](https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/3副本.png)" ], "horizontal":[ "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/1.png", "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/2.png", "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/3.png" ] }, "lat":"30.260707", "lon":"120.059603", "province":"浙江省", "city":"杭州市", "district":"余杭区" } } ] }

结果说明：imgs中为图片集，Upright是竖的，horizontal是横的，pk是酒店id

Error:

查询数据出错

{"code": -100}

数据转换出错

{"code":0}





### get_room_type

Description : 返回该酒店的房型数据

Url:http://129.211.14.92:8000/order/get_room_type

Param : 

| 参数名称 | 类型 | 是否必需 | Remarks | 示例 |
| :------: | ---- | -------- | ------- | ---- |
| hotel_id | int  | 是       | 酒店ID  | 3    |

Sucess : 

{

 "code":200,

 "res":{

  "单人房":{

   "num":100,

   "room_type_content":"朝阳，有窗，无餐",

   "price":"200",

   "imgs":[

​    "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/6_2.png",

​    "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/7_2.png",

​    "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/8_2.png",

​    "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/9_2.png",

​    "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/10_2.png"

   ],

   "content":"住着很舒服"

  },

 

"双人房":{

   "num":100,

   "room_type_content":"朝阳，有窗，无餐",

   "price":"200",

   "imgs":[

​    "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/6_2.png",

​    "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/7_2.png",

​    "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/8_2.png",

​    "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/9_2.png",

​    "https://hotel-1258976754.cos.ap-shanghai.myqcloud.com/hotels/10_2.png"

   ],

   "content":"住着很舒服"

  }  }

}

Error : 

接收参数错误

{"code": -100}

数据解析错误

```json
{"code":0}
```





### Pay_info

Description : 发送入住信息 返回付款信息

Url:http://129.211.14.92:8000/order/pay_info

Param : 

| 参数名称   | 类型   | 是否必需 | 备注                                   | 示例       |
| ---------- | ------ | -------- | -------------------------------------- | ---------- |
| uid        | int    | 是       | 用户ID                                 | 4          |
| room_type  | string | 是       | 房型名称                               | 单人房     |
| start_date | string | 是       | 入住日期：十位时间戳，默认为当天13：00 | 1585368000 |
| end_date   | string | 是       | 离开时间：十位时间戳，默认为当天12：00 | 1585368000 |

Sucess : 

```json
{
            "code": 200,
  					"room_id": 1,
            "price": 200,
            "days": 2,
            "total_price": 400
        }
```

Error : 

```json
{"code":0}
```





### Pay_succ

desc:支付成功

Url:http://129.211.14.92:8000/order/pay_succ

Param:

| 名称       | 类型          | 示例       | Desc                   |
| ---------- | ------------- | ---------- | ---------------------- |
| uid        | string or int | 4          | 用户ID                 |
| room_id    | string or int | 1          | 房间ID                 |
| start_time | String        | 1585368000 | 和pay_info的时间戳一样 |
| end_time   | String        | 1585368000 | 和pay_info的时间戳一样 |
|            |               |            |                        |

succ:

{"code": 200}

Error:

参数接受错误

{"code":-100}

信息更改错误

{"code":0}





### Pay_err

desc:支付成功

Url:http://129.211.14.92:8000/order/pay_err

Param:

| 名称       | 类型          | 示例       | Desc                   |
| ---------- | ------------- | ---------- | ---------------------- |
| uid        | string or int | 4          | 用户ID                 |
| room_id    | string or int | 1          | 房间ID                 |
| start_time | string        | 1585368000 | 和pay_info的时间戳一样 |
| end_time   | String        | 1585368000 | 和pay_info的时间戳一样 |
|            |               |            |                        |

succ:

{"code": 200}

Error:

参数接受错误

{"code":-100}

信息更改错误

{"code":0}